<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Design 5G</title>

<style>
body{
margin:0;
font-family:Arial;
background:#111;
color:white;
overflow:hidden;
}

/* pages */
.page{
position:absolute;
width:100%;
height:100vh;
top:0;
left:0;
display:none;
}

.active{
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
}

/* home */
button{
padding:12px 18px;
margin:10px;
border:none;
border-radius:8px;
background:#00c3ff;
color:white;
font-size:16px;
}

/* editor */
#editorPage{
background:#222;
}

#toolbar{
height:60px;
background:#111;
display:flex;
align-items:center;
gap:10px;
padding:10px;
}

canvas{
background:white;
display:block;
}
</style>
</head>

<body>

<!-- PAGE 1 -->
<div id="home" class="page active">
<h1>ðŸŽ¨ DESIGN 5G</h1>
<p>CrÃ©er comme Canva</p>
<button onclick="openEditor()">CrÃ©er un design</button>
</div>

<!-- PAGE 2 -->
<div id="editorPage" class="page">
<div id="toolbar">
<button onclick="goHome()">â¬… Retour</button>
<button onclick="addText()">Texte</button>
<button onclick="exportPNG()">Exporter</button>
</div>

<canvas id="editor"></canvas>
</div>

<script>
const home=document.getElementById("home");
const editorPage=document.getElementById("editorPage");

const canvas=document.getElementById("editor");
const ctx=canvas.getContext("2d");

let objects=[];
let selected=null;

/* âœ… FIX IMPORTANT */
function initCanvas(){
canvas.width=window.innerWidth;
canvas.height=window.innerHeight-60;
draw();
}

/* navigation */
function openEditor(){
home.style.display="none";
editorPage.style.display="block";

setTimeout(initCanvas,100); // â† correction Ã©cran noir
}

function goHome(){
editorPage.style.display="none";
home.style.display="flex";
}

/* dessin */
function draw(){
ctx.clearRect(0,0,canvas.width,canvas.height);

objects.forEach(o=>{
ctx.fillStyle="#000";
ctx.font=o.size+"px Arial";
ctx.fillText(o.text,o.x,o.y);
});
}

/* ajouter texte */
function addText(){
objects.push({
text:"Design 5G",
x:150,
y:200,
size:32
});
draw();
}

/* drag doigt */
canvas.addEventListener("touchstart",()=>{
selected=objects[0];
});

canvas.addEventListener("touchmove",e=>{
if(!selected) return;
let t=e.touches[0];
selected.x=t.clientX-50;
selected.y=t.clientY-80;
draw();
});

/* export */
function exportPNG(){
const link=document.createElement("a");
link.download="design5g.png";
link.href=canvas.toDataURL("image/png");
link.click();
}
</script>

</body>
</html>
