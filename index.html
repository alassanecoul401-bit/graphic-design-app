<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Design 5G</title>

<style>

body{
margin:0;
font-family:Arial;
background:#f3f4f6;
overflow:hidden;
}

/* ===== HOME ===== */
#home{
padding:20px;
text-align:center;
}

.grid{
display:grid;
grid-template-columns:repeat(2,1fr);
gap:15px;
margin-top:20px;
}

.card{
background:white;
padding:20px;
border-radius:15px;
box-shadow:0 5px 15px rgba(0,0,0,0.1);
cursor:pointer;
}

/* ===== EDITOR ===== */

#editor{display:none;height:100vh;}

#tools{
position:fixed;
left:0;
top:0;
width:80px;
height:100%;
background:#111;
padding:10px;
}

.tool{
background:white;
margin:10px 0;
padding:10px;
border-radius:12px;
text-align:center;
font-size:12px;
cursor:pointer;
}

#canvasArea{
margin-left:90px;
height:100vh;
display:flex;
justify-content:center;
align-items:center;
}

canvas{
background:white;
box-shadow:0 0 25px rgba(0,0,0,.2);
touch-action:none;
}

.controls{
position:fixed;
bottom:0;
left:90px;
right:0;
background:white;
padding:10px;
display:flex;
gap:10px;
box-shadow:0 -3px 10px rgba(0,0,0,.1);
}

</style>
</head>

<body>

<!-- HOME -->
<div id="home">
<h1>ðŸ”¥ Design 5G</h1>
<div class="grid">
<div class="card" onclick="openEditor()">Instagram Post</div>
<div class="card" onclick="openEditor()">Poster</div>
</div>
</div>

<!-- EDITOR -->
<div id="editor">

<div id="tools">
<div class="tool" onclick="addText()">Texte</div>
<div class="tool" onclick="addImage()">Image</div>
<div class="tool" onclick="downloadPNG()">PNG</div>
</div>

<div id="canvasArea">
<canvas id="canvas" width="400" height="400"></canvas>
</div>

<div class="controls">
<input type="color" onchange="changeColor(this.value)">
<input type="range" min="20" max="80" onchange="changeSize(this.value)">
</div>

<input type="file" id="imgLoader" hidden accept="image/*">

</div>

<script>

const canvas=document.getElementById("canvas");
const ctx=canvas.getContext("2d");

let elements=[];
let selected=null;
let offsetX=0,offsetY=0;
let scale=1;

/* ===== NAVIGATION ===== */

function openEditor(){
home.style.display="none";
editor.style.display="block";
draw();
}

/* ===== ADD TEXT ===== */

function addText(){
elements.push({
type:"text",
text:"Design 5G",
x:150,
y:200,
size:40,
color:"#000"
});
draw();
}

/* ===== ADD IMAGE ===== */

function addImage(){
imgLoader.click();
}

imgLoader.onchange=e=>{
let file=e.target.files[0];
let img=new Image();
img.onload=()=>{
elements.push({
type:"image",
img:img,
x:100,
y:100,
w:150,
h:150
});
draw();
};
img.src=URL.createObjectURL(file);
};

/* ===== DRAW ===== */

function draw(){
ctx.clearRect(0,0,canvas.width,canvas.height);

elements.forEach(el=>{
if(el.type==="text"){
ctx.fillStyle=el.color;
ctx.font=el.size+"px Arial";
ctx.fillText(el.text,el.x,el.y);
}

if(el.type==="image"){
ctx.drawImage(el.img,el.x,el.y,el.w,el.h);
}
});
}

/* ===== SELECT + DRAG ===== */

canvas.addEventListener("pointerdown",e=>{
const r=canvas.getBoundingClientRect();
let x=e.clientX-r.left;
let y=e.clientY-r.top;

selected=[...elements].reverse().find(el=>{
if(el.type==="text")
return x>el.x && x<el.x+200 && y>el.y-40 && y<el.y;

if(el.type==="image")
return x>el.x && x<el.x+el.w && y>el.y && y<el.y+el.h;
});

if(selected){
offsetX=x-selected.x;
offsetY=y-selected.y;
}
});

canvas.addEventListener("pointermove",e=>{
if(!selected)return;
const r=canvas.getBoundingClientRect();
selected.x=e.clientX-r.left-offsetX;
selected.y=e.clientY-r.top-offsetY;
draw();
});

canvas.addEventListener("pointerup",()=>selected=null);

/* ===== TEXT SETTINGS ===== */

function changeColor(color){
if(selected && selected.type==="text"){
selected.color=color;
draw();
}
}

function changeSize(size){
if(selected && selected.type==="text"){
selected.size=size;
draw();
}
}

/* ===== EXPORT ===== */

function downloadPNG(){
let link=document.createElement("a");
link.download="design5g.png";
link.href=canvas.toDataURL("image/png",1);
link.click();
}

</script>

</body>
</html>
